import{u as Y,s as W,v as H,r as d,x as M,d as I,y as R,o as j,c as N,a as k,z as B}from"./index-BrXuAZ3w.js";function C(e){return W()?(H(e),!0):!1}function b(e){return typeof e=="function"?e():Y(e)}const L=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const $=Object.prototype.toString,F=e=>$.call(e)==="[object Object]",V=()=>{},E=L?window:void 0;function S(e){var n;const r=b(e);return(n=r==null?void 0:r.$el)!=null?n:r}function _(...e){let n,r,l,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([r,l,i]=e,n=E):[n,r,l,i]=e,!n)return V;Array.isArray(r)||(r=[r]),Array.isArray(l)||(l=[l]);const c=[],a=()=>{c.forEach(s=>s()),c.length=0},h=(s,o,u,m)=>(s.addEventListener(o,u,m),()=>s.removeEventListener(o,u,m)),f=M(()=>[S(n),b(i)],([s,o])=>{if(a(),!s)return;const u=F(o)?{...o}:o;c.push(...r.flatMap(m=>l.map(g=>h(s,m,g,u))))},{immediate:!0,flush:"post"}),p=()=>{f(),a()};return C(p),p}const z={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof Touch?null:[e.movementX,e.movementY]};function D(e={}){const{type:n="page",touch:r=!0,resetOnTouchEnds:l=!1,initialValue:i={x:0,y:0},window:c=E,target:a=c,scroll:h=!0,eventFilter:f}=e;let p=null;const s=d(i.x),o=d(i.y),u=d(null),m=typeof n=="function"?n:z[n],g=t=>{const v=m(t);p=t,v&&([s.value,o.value]=v,u.value="mouse")},y=t=>{if(t.touches.length>0){const v=m(t.touches[0]);v&&([s.value,o.value]=v,u.value="touch")}},O=()=>{if(!p||!c)return;const t=m(p);p instanceof MouseEvent&&t&&(s.value=t[0]+c.scrollX,o.value=t[1]+c.scrollY)},w=()=>{s.value=i.x,o.value=i.y},A=f?t=>f(()=>g(t),{}):t=>g(t),T=f?t=>f(()=>y(t),{}):t=>y(t),X=f?()=>f(()=>O(),{}):()=>O();if(a){const t={passive:!0};_(a,["mousemove","dragover"],A,t),r&&n!=="movement"&&(_(a,["touchstart","touchmove"],T,t),l&&_(a,"touchend",w,t)),h&&n==="page"&&_(c,"scroll",X,{passive:!0})}return{x:s,y:o,sourceType:u}}function G(e,n={}){const{handleOutside:r=!0,window:l=E}=n,i=n.type||"page",{x:c,y:a,sourceType:h}=D(n),f=d(e??(l==null?void 0:l.document.body)),p=d(0),s=d(0),o=d(0),u=d(0),m=d(0),g=d(0),y=d(!0);let O=()=>{};return l&&(O=M([f,c,a],()=>{const w=S(f);if(!w||!(w instanceof Element))return;const{left:A,top:T,width:X,height:t}=w.getBoundingClientRect();o.value=A+(i==="page"?l.pageXOffset:0),u.value=T+(i==="page"?l.pageYOffset:0),m.value=t,g.value=X;const v=c.value-o.value,x=a.value-u.value;y.value=X===0||t===0||v<0||x<0||v>X||x>t,(r||!y.value)&&(p.value=v,s.value=x)},{immediate:!0}),_(document,"mouseleave",()=>{y.value=!0})),{x:c,y:a,sourceType:h,elementX:p,elementY:s,elementPositionX:o,elementPositionY:u,elementHeight:m,elementWidth:g,isOutside:y,stop:O}}const P=["src","alt"],q=I({__name:"InteractiveImage",props:{src:{},alt:{},width:{},height:{}},setup(e){const n=e,r=d(null),{elementX:l,elementY:i,isOutside:c,elementHeight:a,elementWidth:h}=G(r),f=new URL(n.src,import.meta.url).href,p=R(()=>{const o=(10-i.value/a.value*20).toFixed(2),u=(20/2-l.value/a.value*20).toFixed(2);return c.value?"":`perspective(${h.value}px) rotateX(${o}deg) rotateY(${u}deg)`});return(s,o)=>(j(),N("div",{ref_key:"target",ref:r,style:B({transform:p.value,transition:"transform 0.25s ease-out",width:n.width,height:n.height}),class:"flex justify-center items-center"},[k("img",{src:Y(f),alt:n.alt,class:"w-full h-full object-contain"},null,8,P)],4))}});export{q as _};
